<p>admin-page works!</p>

<ion-content id="content" [fullscreen]="true">
  <div *ngIf="adminLogged">
    <ion-toolbar class = "profile-nav" >

    <ion-tabs>
      <ion-tab-bar slot="end">
        <ion-tab-button tab="admin" routerLink="/admin" routerDirection="root">
          <ion-icon name="checkbox-outline"></ion-icon>            
          <ion-label>Approval Page</ion-label>
        </ion-tab-button>
  
        <ion-tab-button (click)="addData()">
          <ion-icon name="add-circle-outline"></ion-icon>
          <ion-label>Location Data</ion-label>
        </ion-tab-button>
      </ion-tab-bar>
    </ion-tabs>

    <ion-popover id="popover" [isOpen]="isPopoverOpen">
      <ng-template>
        <div id="popoverHeading"><h3>Import Crime Data</h3></div>
        <div class="drag-drop-area" (click)="fileInput.click()">
          <ion-icon name="add-circle-outline" class="icon-on-top"></ion-icon>
          <ion-label class="imageText">Click here or drag and drop a file</ion-label>
          <input type="file" accept="file/*" (change)="handleFileInput($event)" hidden #fileInput>
        </div>
        <ion-input type="text" [(ngModel)]="quarter" placeholder="Enter a quater of the form MONTH YEAR to MONTH YEAR" clearInput></ion-input>
        <ion-button (click)="processData()">Process Data</ion-button>
      </ng-template>
    </ion-popover>
  
  </ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col id="notApprovedHeadCol">
          <h2 id="notApprovedHead">Not Approved</h2>
        </ion-col>
        <ion-col id="approvedHeadCol">
          <h2 id="approvedHead">Approved</h2>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col id="notApprovedBodyCol">
          <ion-card *ngFor="let listing of nonAppListings" (click)="redirectToPage(listing)">
            <ion-card-header>
              <img src="{{listing.photos[0]}}" class="headerImg" alt="house1">
              <ion-card-title>House</ion-card-title>
              <ion-card-subtitle style="color: #94d2ae;">R {{listing.price}}</ion-card-subtitle>
            </ion-card-header>
          
            <ion-card-content>
              <p style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap">
              {{listing.desc}}
              </p>
              <br>
              <br>
              <div id="house_details">
                <img alt="bedroomIcon" src="assets/icon/bedrooms.png">
                {{listing.bed}}
                &nbsp; &nbsp;&nbsp;
                <img alt="bathroomIcon" src="assets/icon/bathrooms.png">
                {{listing.bath}}
                &nbsp; &nbsp;&nbsp;
                <img alt="floorPlanIcon" src="assets/icon/floorplan.png">
                  {{listing.floor_size}} m<sup>2</sup> 
                  &nbsp; &nbsp;&nbsp;
                <img alt="propSizeIcon" src="assets/icon/erf.png">
                {{listing.property_size}} m<sup>2</sup>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col id="approvedBodyCol">
          <ion-card *ngFor="let listing of appListings" (click)="redirectToPage(listing)">
            <ion-card-header>
              <img src="{{listing.photos[0]}}" alt="house1">
              <ion-card-title>House</ion-card-title>
              <ion-card-subtitle style="color: #94d2ae;">R {{listing.price}}</ion-card-subtitle>
            </ion-card-header>
          
            <ion-card-content>
              <p style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap">
              {{listing.desc}}
              </p>
              <br>
              <br>
              <div id="house_details">
                <img alt="bedroomIcon" src="assets/icon/bedrooms.png">
                {{listing.bed}}
                &nbsp; &nbsp;&nbsp;
                <img alt="bathroomIcon" src="assets/icon/bathrooms.png">
                {{listing.bath}}
                &nbsp; &nbsp;&nbsp;
                <img alt="floorPlanIcon" src="assets/icon/floorplan.png">
                  {{listing.floor_size}} m<sup>2</sup> 
                  &nbsp; &nbsp;&nbsp;
                <img alt="propSizeIcon" src="assets/icon/erf.png">
                {{listing.property_size}} m<sup>2</sup>
              </div>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
