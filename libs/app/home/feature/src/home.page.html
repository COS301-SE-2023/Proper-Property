<!-- Header---
core.shell.html
-------------->


<!-- if isMobile -->

<ion-content  *ngIf="!this.isMobile">

  <!----------------------- SlideShow and Searchbar Section--------------------------->

  <section class="sec1">

    <div class="slogan">
      <div id="mainHeading-Container">
        <h1 class="mainHeading">Proper Properties For You</h1>
      </div>
      <div id="captionContainer">
        <h1 id="caption">Discover Your Dream Home: Where Living Extends Beyond Walls</h1>
      </div>
      <div class="search-container">
        <input type="text" id="address" [(ngModel)]="searchQuery" placeholder="Property Location Search">
        <ion-button id="search-button" (click)="searchProperties()">
          <h1 class="search-button-text" style="margin-top: 10px;">Search</h1>
        </ion-button>
      </div>
    </div>

    <img class="homeCover" src="assets/HomeCover.png">
  </section>
  <!------------------------------------Summarised Descriptions Section---------------------------------------------->
  <section class="sec2" id="serv">
    <h2 class="heading">What makes it <span class="bold2">Unique </span></h2>
    <p><span class="info">(the pics will be replaced with video examples when app is complete)</span></p>

    <div class="serv-container">

      <div class="serv-box">
        <img src="../../assets/fakeNN.avif">
        <h3>Proper Recommendations</h3>
        <p>With the use of our recommendation system powered by artificial intelligence, we will be sure to understand
          your preferences and offer the <span class="bold2">Proper Property</span> you are looking for.</p>
      </div>

      <div class="serv-box">
        <img src="../../assets/mapImg.webp">
        <h3>Proper Communities</h3>
        <p>At Proper Property, we understand the importance of the surrounding area when choosing a property. We
          consider everything, from essential utilities to amenities' quality. Whether you crave <span
            class="bold2">mountain landscapes</span> or <span class="bold2">vibrant nightlife</span>, we cater to your
          preferences.
      </div>

      <div class="serv-box">
        <img src="../../assets/Cottage.jpg">
        <h3>Proper Properties</h3>
        <p>Properties of all types, cultures, prices, and <span class="bold2">more</span>. Renting or sharing. Stairs or
          elevators. The library is endless and always Proper</p>
      </div>
    </div>
  </section>
  <!------------------------------------Use Case Section---------------------------------------------->
  <section class="sec3">
    <h2 class="heading">Top <span class="bold2">features</span></h2>

    <div class="case-container">

      <div class="case-box">
        <img src="../../assets/treehouse.jpg">
        <div class="case-layer">
          <h4>View all Property Types</h4>
          <p>Donec augue elit, rhoncus ac sodales id, porttitor vitae est. Donec laoreet rutrum libero sed pharetra.</p>
        </div>
      </div>

      <div class="case-box">
        <img src="../../assets/CT.jpg">
        <div class="case-layer">
          <h4>Swift Location Browsing</h4>
          <p>Donec augue elit, rhoncus ac sodales id, porttitor vitae est. Donec laoreet rutrum libero sed pharetra.</p>
        </div>
      </div>

      <div class="case-box">
        <img src="../../assets/treehouse.jpg">
        <div class="case-layer">
          <h4>Accurate Scores</h4>
          <p>Donec augue elit, rhoncus ac sodales id, porttitor vitae est. Donec laoreet rutrum libero sed pharetra.</p>
        </div>
      </div>

      <div class="case-box">
        <img src="../../assets/calculator.jpg">
        <div class="case-layer">
          <h4>Reliable Bond Calculator</h4>
          <p>Donec augue elit, rhoncus ac sodales id, porttitor vitae est. Donec laoreet rutrum libero sed pharetra.</p>
        </div>
      </div>

      <div class="case-box">
        <img src="../../assets/treehouse.jpg">
        <div class="case-layer">
          <h4>User-Friendly Filters</h4>
          <p>Donec augue elit, rhoncus ac sodales id, porttitor vitae est. Donec laoreet rutrum libero sed pharetra.</p>
        </div>
      </div>

      <div class="case-box">
        <img src="../../assets/sharing.jpg">
        <div class="case-layer">
          <h4>Even Rentals and Sharing</h4>
          <p>Donec augue elit, rhoncus ac sodales id, porttitor vitae est. Donec laoreet rutrum libero sed pharetra.</p>
        </div>
      </div>

    </div>

  </section>
  <properproperty-footer></properproperty-footer>

</ion-content>


<ion-content *ngIf="this.isMobile">
  <div class="content-wrapper">

  <ion-grid>

    <ion-row>

      <ion-col size = "3"></ion-col>
      <div id="buySell">
      

      <ion-col size="3">
        <ion-button [class.active]="activeTab === 'buying'" (click)="buyingFilters()">Buy</ion-button>
      </ion-col>
      <ion-col size="3">
        <ion-button [class.active]="activeTab === 'renting'" (click)="rentingFilters()">Rent</ion-button>
      </ion-col>
      <ion-col size="3"></ion-col>
      
    </div>

    </ion-row>

    
    <ion-row style="width: 100%; margin-top: 1%;">
      <ion-row style="width: 100%;">
        <ion-col size="10">
          <input type="text" id="address" [(ngModel)]="searchQuery" placeholder="search">
        </ion-col>
        <ion-col>
          <ion-button class="search-button"  (click)="searchProperties()">Search</ion-button>
        </ion-col>
      </ion-row>

      <ion-row style="width: 100%;">
        <ion-col>
          <div id="filter-container">
            <ion-label class="filter-text" >Property Type</ion-label>
            <ion-item class="filter">
              <div class="dropdown-container">
                <select class="dropdown" [(ngModel)]="selectedPropertyType" (ionChange)="filterProperties()" class="prop_type">
                  
                  <option [value]="'Proper Property'" [hidden]="true">Property Type</option>
                  <option value="House">House</option>
                  <option value="Apartment">Apartment</option>
                  <option value="Commercial">Commercial Property</option>
                </select>
                <ion-icon name="chevron-down-outline" class="arrow-icon"></ion-icon>
              </div>
              </ion-item>
             

            <ion-row>
            <ion-col size="6">
              <!-- <label class="filter-text" for="minPrice">Min Price</label>
            <ion-item class="filter">
              
              <select class="dropdown" [(ngModel)]="selectedMinPrice" (ionChange)="filterProperties()"> -->
                
                <ion-label class="filter-text" for="minPrice">Min Price</ion-label>
                  <ion-item class="filter">
                    <div class="dropdown-container">
                    
                        <select class="dropdown" [(ngModel)]="selectedMinPrice" (ionChange)="filterProperties()" class="prop_type">
                <option value="0">Any</option>
                <option value="100000">R 100,000</option>
                <option value="150000">R 150,000</option>
                <option value="200000">R 200,000</option>
                <option value="250000">R 250,000</option>
                <option value="350000">R 300,350</option>
                <option value="400000">R 400,000</option>
                <option value="450000">R 450,000</option>
              </select>
              <ion-icon name="chevron-down-outline" class="arrow-icon"></ion-icon>
            </div>
            </ion-item>
          </ion-col>

          
          <ion-col size="6">

            <ion-label class="filter-text" for="maxPrice">Max Price</ion-label>
            <ion-item class="filter">
              <div class="dropdown-container">
              
                  <select class="dropdown" [(ngModel)]="selectedMaxPrice" (ionChange)="filterProperties()" class="prop_type">

                <option value="0">Any</option>
                <option value="100000">R 100,000</option>
                <option value="150000">R 150,000</option>
                <option value="200000">R 200,000</option>
                <option value="250000">R 250,000</option>
                <option value="350000">R 300,350</option>
                <option value="400000">R 400,000</option>
                <option value="450000">R 450,000</option>
              </select>
              <ion-icon name="chevron-down-outline" class="arrow-icon"></ion-icon>
            </div>
            </ion-item>
          </ion-col>

        </ion-row>

          </div>
        </ion-col>
      </ion-row>
    </ion-row>

    <ion-row>
      <ion-col size="6">

        <!-- <ion-label class="filter-text" for="maxPrice">Max Price</ion-label>
        <ion-item class="filter">
          <div class="dropdown-container">
          
              <select class="dropdown" [(ngModel)]="selectedMaxPrice" (ionChange)="filterProperties()" class="prop_type">
                 -->
       
                 <ion-label class="filter-text">Bedrooms</ion-label>
        <ion-item class="filter">
          <div class="dropdown-container">
          <select class="dropdown" [(ngModel)]="selectedBedrooms" (ionChange)="filterProperties()" class="prop_type">
            <option value="0">Any</option>            
            <option value="1">1 Bedroom</option>
            <option value="2">2 Bedrooms</option>
            <option value="3">3 Bedrooms</option>
            <option value="4">4 Bedrooms</option>
            <option value="5">5+ Bedrooms</option>
          </select>
          <ion-icon name="chevron-down-outline" class="arrow-icon"></ion-icon>
        </div>
        </ion-item>
      </ion-col>

      <ion-col size="6">

        <ion-label class="filter-text">Bathrooms</ion-label>
        <ion-item class="filter">
          <div class="dropdown-container">
          <select class="dropdown" [(ngModel)]="selectedBathrooms" (ionChange)="filterProperties()" class="prop_type">
            <option value="0">Any</option>
            <option value="1">1 Bathroom</option>
            <option value="2">2 Bathrooms</option>
            <option value="3">3 Bathrooms</option>
            <option value="4">4 Bathrooms</option>
            <option value="5">5+ Bathrooms</option>
          </select>
          <ion-icon name="chevron-down-outline" class="arrow-icon"></ion-icon>
        </div>
        </ion-item>
      </ion-col>
    </ion-row>


    <ion-row>
      <ion-col>
        <ion-button class="filter-button" (click)="toggleAdditionalFilters()">
          <ion-icon [name]="showAdditionalFilters ? 'remove' : 'add'"></ion-icon>
          {{ showAdditionalFilters ? 'Less Filters' : 'More Filters' }}
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row style="width: 100%;">
      <ion-col size="10">
        <!-- Additional Filters -->
        <div *ngIf="showAdditionalFilters" id="additional-features">



          <ion-label class="filter-text">Parking / Garage</ion-label>
          <ion-item class="filter">
            <div class="dropdown-container">
            <select class="dropdown" [(ngModel)]="selectedParking" (ionChange)="filterProperties()" class="prop_type">
              <option value="0">Any</option>
              <option value="1">1 Garage</option>
              <option value="2">2 Garages</option>
              <option value="3">3 Garages</option>
              <option value="4">4 Garages</option>
              <option value="5">5+ Garages</option>
            </select>
            <ion-icon name="chevron-down-outline" class="arrow-icon"></ion-icon>
          </div>

          </ion-item>

        </div>
      </ion-col>
    </ion-row>
  
  </ion-grid>

  <ion-grid>
    <ion-row>
      <ion-col *ngFor="let listing of listings" size="12" size-sm="6" size-md="4">
        <ion-card>
          <ion-card-header (click)="redirectToPage(listing)">
            <img src="{{listing.photos[0]}}" style="width: 45%;" alt="house1">
            <ion-card-title  >House</ion-card-title>
            <ion-card-subtitle style="color: #0DAE4F;">{{listing.price}}</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <p style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap">
            {{listing.desc}}
            </p>
            <br>
            <br>
            <div id="house_details">
              <img src="assets/icon/bedrooms.png">
              {{listing.bed}}
              &nbsp; &nbsp;&nbsp;
              <img src="assets/icon/bathrooms.png">
              {{listing.bath}}
              &nbsp; &nbsp;&nbsp;
              <img src="assets/icon/floorplan.png">
              {{listing.floor_size}} m<sup>2</sup> 
              &nbsp; &nbsp;&nbsp;
              <img src="assets/icon/erf.png">
              {{listing.property_size}} m<sup>2</sup>
            </div>

          </ion-card-content>
          <ng-template [ngIf]="isSaved(listing.listing_id ?? '')" [ngIfElse]="notSaved">
            <button style="float: right; margin-right: 1%" (click)="unsaveListing($event, listing.listing_id ?? '')">
              <ion-icon name="heart" class="heart-icon" style="color: red"></ion-icon>
            </button>
          </ng-template>
          <ng-template #notSaved >
            <button style="float: right; margin-right: 1%"  (click)="saveListing($event, listing.listing_id ?? '')">
              <ion-icon name="heart" class="heart-icon" style="color: black"></ion-icon>
            </button>
          </ng-template>
        </ion-card>
      </ion-col>
<!-- Add more ion-cols for additional cards -->
</ion-row>
</ion-grid>

</div>
</ion-content>
