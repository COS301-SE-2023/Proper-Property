<ion-content style="position: relative;"class="Desktop">

  <section class="registering">

    <div class = "container">
      <div class="reg">
        <ion-list>
          <h2>Change Password</h2>
          <ion-item>
            <ng-container *ngIf="!showPassword; else showP">
              <ion-icon name="lock-closed-outline"></ion-icon>
              <ion-input  type="password" [(ngModel)]="password" (ngModelChange)="checkStrength()" placeholder="  Enter Password"></ion-input>
              <ion-icon (click)="showPass()" style="font-size: 24" name="eye"></ion-icon>
            </ng-container>
            <ng-template #showP>
              <ion-icon name="lock-open-outline"></ion-icon>
              <ion-input [hidden]="!showPassword" type="text" [(ngModel)]="password" (ngModelChange)="checkStrength()" placeholder="  Enter Password"></ion-input>
              <ion-icon (click)="showPass()" style="font-size: 24" name="eye-off-outline"></ion-icon>
            </ng-template>
          </ion-item>

          <ion-item [class.invalid]="!passwordMatch">
            <ng-container *ngIf="!showPassword; else showCP">
              <ion-icon name="lock-closed-outline"></ion-icon>
              <ion-input type="password" [(ngModel)]="confirm_password" (ngModelChange)="secondCheckConfirm()" placeholder="  Confirm Password"></ion-input>
              <ion-icon (click)="showPass()" style="font-size: 24" name="eye"></ion-icon>
            </ng-container>
            <ng-template #showCP>
              <ion-icon name="lock-open-outline"></ion-icon>
              <ion-input type="text" [(ngModel)]="confirm_password" (ngModelChange)="secondCheckConfirm()" placeholder="  Confirm Password"></ion-input>
              <ion-icon (click)="showPass()" style="font-size: 24" name="eye-off-outline"></ion-icon>
            </ng-template>
          </ion-item>

         
        
          <ion-grid id="strength">
            <ion-row>
              <ion-col size="2"></ion-col>
              <ion-col size="8"><h6 style="text-align: center; color: var(--ion-color-primary);">Password Strength:</h6></ion-col>
            </ion-row>
            <ion-row>
              <ion-col class="pwordStrength" id="block1">
                <div class="strengthBar">
                  <div *ngIf="password.length > 0" id="sec1"></div>
                </div>
              </ion-col>
              <ion-col class="pwordStrength" id="block1">
                <div class="strengthBar">
                  <div id="sec2"></div>
                </div>
              </ion-col>
              <ion-col class="pwordStrength" id="block1">
                <div class="strengthBar">
                  <div id="sec3"></div>
                </div>
              </ion-col>
            </ion-row>
          </ion-grid>

          <ion-row id="checkers">
            <ion-col size="1"></ion-col>
            <ion-col size="11">
              <div *ngIf="!passwordMatch" class="invalid-feedback" id="passMatch">
                The passwords do not match!
              </div> 
              <div *ngIf="length < 8" class="invalid-feedback">
                The password must be at least 8 characters long.
              </div> 
              <div *ngIf="!lowercase" class="invalid-feedback">
                The password must have at least 1 lowercase character.
              </div> 
              <div *ngIf="!uppercase" class="invalid-feedback">
                The password must have at least 1 uppercase character.
              </div> 
              <div *ngIf="!numbers" class="invalid-feedback">
                The password must have at least 1 numeric character.
              </div> 
              <div *ngIf="!specialchars" class="invalid-feedback">
                The password must have at least 1 special character.
              </div> 
            </ion-col>
          </ion-row>
        </ion-list>
      </div>
      <div class="button-centerer">
        <div>
          <ion-button [disabled]="!isStrong || !passwordMatch" class="button-centerer1"(click)="resetPassword()" shape="round">Change Password</ion-button>
        </div>
      </div>
    </div>
  </section>
</ion-content>