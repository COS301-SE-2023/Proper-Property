<ion-header [translucent]="true">
  
  <ion-toolbar class="first-toolbar">

  
    <ion-buttons slot="end">
      <ion-button routerLink="/home" routerDirection="root">
        <ion-icon slot="icon-only" name="home"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button routerLink="/listings" routerDirection="root">
        <ion-icon slot="icon-only" name="list"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button routerLink="/search" routerDirection="root">
        <ion-icon slot="icon-only" name="search"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button routerLink="/profile" routerDirection="root">
        <ion-icon slot="icon-only" name="person"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons id="login-button" slot="end">
      <ion-button routerLink="/login" routerDirection="root">
       Login
      </ion-button>

    </ion-buttons>
    
  </ion-toolbar>

  <ion-toolbar class = "profile-nav" >

      <ion-tabs>
        <ion-tab-bar slot="end">
          <ion-tab-button tab="profile" routerLink="/profile" routerDirection="root">
            <ion-icon name="person-circle-outline"></ion-icon>
            <ion-label>Profile</ion-label>
          </ion-tab-button>
    
          <ion-tab-button tab="create-listing" routerLink="/create-listing" routerDirection="root" >
            <ion-icon name="add-circle-outline"></ion-icon>
            <ion-label>Create Listing</ion-label>
          </ion-tab-button>
    
          <ion-tab-button tab="saved-listings" routerLink="/saved-listings" routerDirection="root" class="green-tab">
            <ion-icon name="heart-outline"></ion-icon>
            <ion-label>Saved Listings</ion-label>
          </ion-tab-button>
    
          <ion-tab-button tab="my-listings" routerLink="/my-listings" routerDirection="root">
            <ion-icon name="list-outline"></ion-icon>
            <ion-label>My Listings</ion-label>
          </ion-tab-button>
        </ion-tab-bar>
      </ion-tabs>

  </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="true">
  <ion-grid>
    <ion-col>
      <ion-row *ngIf = "!isMobile" >
        <ion-card *ngFor="let listing of savedListings">
          <div (click)="redirectToPage(listing)">
            <ion-card-header>
              <img src="{{listing.photos[0]}}" alt="house1">
            </ion-card-header>

            <ion-card-content>
              <ion-card-title>House</ion-card-title>
              <ion-card-subtitle style="color: #94d2ae;">R {{listing.price}}</ion-card-subtitle>
              
              <p style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap">
                {{listing.desc}}
              </p>
              <br>
              <br>
              <div id="house_details">
                <img src="assets/icon/bedrooms.png">
                {{listing.bed}}
                &nbsp; &nbsp;&nbsp;
                <img src="assets/icon/bathrooms.png">
                {{listing.bath}}
                &nbsp; &nbsp;&nbsp;
                <img src="assets/icon/floorplan.png">
                {{listing.floor_size}} m<sup>2</sup>
                &nbsp; &nbsp;&nbsp;
                <img src="assets/icon/erf.png">
                {{listing.property_size}} m<sup>2</sup>
              </div>
            </ion-card-content>
          </div>
          <ng-template [ngIf]="isSaved(listing.listing_id ?? '')" [ngIfElse]="notSaved">
            <button style="float: right; margin-right: 1%" (click)="unsaveListing($event, listing.listing_id ?? '')">
              <ion-icon name="heart" class="heart-icon" style="color: red"></ion-icon>
            </button>
          </ng-template>
          <ng-template #notSaved>
            <button style="float: right; margin-right: 1%" (click)="saveListing($event, listing.listing_id ?? '')">
              <ion-icon name="heart" class="heart-icon" style="color: black"></ion-icon>
            </button>
          </ng-template>
        </ion-card>
    </ion-row>

    <ion-col *ngIf = "isMobile" class="Mobile" size="12">
      <ion-card *ngFor="let listing of savedListings">
        <div (click)="redirectToPage(listing)">
          <ion-card-header>
            <img src="{{listing.photos[0]}}" alt="house1">
          </ion-card-header>

          <ion-card-content>
            <ion-card-title>House</ion-card-title>
            <ion-card-subtitle style="color: #94d2ae;">R {{listing.price}}</ion-card-subtitle>
            
            <p style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap">
              {{listing.desc}}
            </p>
            <br>
            <br>
            <div id="house_details">
              <img src="assets/icon/bedrooms.png">
              {{listing.bed}}
              &nbsp; &nbsp;&nbsp;
              <img src="assets/icon/bathrooms.png">
              {{listing.bath}}
              &nbsp; &nbsp;&nbsp;
              <img src="assets/icon/floorplan.png">
              {{listing.floor_size}} m<sup>2</sup>
              &nbsp; &nbsp;&nbsp;
              <img src="assets/icon/erf.png">
              {{listing.property_size}} m<sup>2</sup>
            </div>
          </ion-card-content>
        </div>
        <ng-template [ngIf]="isSaved(listing.listing_id ?? '')" [ngIfElse]="notSaved">
          <button style="float: right; margin-right: 1%" (click)="unsaveListing($event, listing.listing_id ?? '')">
            <ion-icon name="heart" class="heart-icon" style="color: red"></ion-icon>
          </button>
        </ng-template>
        <ng-template #notSaved>
          <button style="float: right; margin-right: 1%" (click)="saveListing($event, listing.listing_id ?? '')">
            <ion-icon name="heart" class="heart-icon" style="color: black"></ion-icon>
          </button>
        </ng-template>
      </ion-card>
  </ion-col>

</ion-col>
</ion-grid>

</ion-content>
